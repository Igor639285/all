# Telegram Group Respect Bot

Бот для групп Telegram с командами:

- `ping` — бот отвечает `pong`.
- `.all` — упомянуть всех известных участников группы.
- `.stats` — показать лидеров по уважению в текущем чате.
- `.glstats` — показать глобальных лидеров по уважению во всех чатах.
- `.bonus` — забрать ежедневный бонус уважения (**случайно от +5 до +20**, раз в день).
- `+` (ответом на сообщение) — выдать уважение пользователю (перезарядка 10 минут для пары отправитель→получатель).
- `-` (ответом на сообщение) — снять уважение у пользователя (минимум 1, перезарядка 10 минут для пары отправитель→получатель).

## Особенности

- Начальное уважение каждого пользователя: **1**.
- Уважение показывается числом и красивой шкалой прогресса.
- При повышении уровня бот пишет уведомление: `USER достиг N уровня уважения`.
- Все фразы бота редактируются в `messages.txt`.
- Токен бота хранится отдельно в `token.txt`.
- Данные сохраняются в SQLite (`respect.db`).

## Установка

```bash
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

## Настройка

1. Укажите токен в `token.txt`.
2. При необходимости измените тексты в `messages.txt`.
3. Добавьте свои команды в `commands.txt` в формате `.команда=ответ`.

Формат `messages.txt`:

```txt
key=value
```

Для переноса строк используйте `\n`.

## Запуск

```bash
python bot.py
```

## Примечание

Команда `.all` упоминает всех известных боту участников (писавших в чат) и также администраторов группы, даже если они ещё не писали боту.

## Ошибка `ModuleNotFoundError: No module named telegram`

Если видите такую ошибку, установите зависимости:

```bash
pip install -r requirements.txt
```

После этого снова запустите:

```bash
python bot.py
```

Если зависимость или токен не настроены, бот теперь завершится без Python traceback и выведет понятную ошибку в лог.


## Пользовательские команды

В файле `commands.txt` можно создавать собственные команды:

```txt
.hello=Привет!
.rules=Правила чата:\n1) Без спама\n2) Уважайте друг друга
```

После изменения перезапустите бота, чтобы команды перечитались.
